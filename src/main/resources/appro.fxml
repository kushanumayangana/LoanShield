<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.layout.VBox?>


<ScrollPane fx:controller="com.controller.resultController"
            xmlns="http://javafx.com/javafx/20"
            xmlns:fx="http://javafx.com/fxml/1"
            prefWidth="800" prefHeight="800"
            stylesheets="@/css/style.css"
            fitToWidth="true">

    <content>
        <VBox spacing="40" alignment="TOP_CENTER">
            <padding>
                <Insets top="40" right="40" bottom="40" left="40"/>
            </padding>
        
        <!-- Loan Approval Report Section -->
            <VBox spacing="25" alignment="TOP_CENTER" styleClass="form-card">
                <padding>
                    <Insets top="30" right="30" bottom="30" left="30"/>
                </padding>

                <!-- Report Header with Logo -->
                <HBox spacing="20" alignment="CENTER_LEFT">
                    <HBox spacing="10" alignment="CENTER_LEFT">
                        <VBox alignment="CENTER_LEFT" spacing="2">
                            <Label text="LoanShield" style="-fx-font-size: 24px; -fx-text-fill: white; -fx-font-weight: bold;"/>
                        </VBox>
                    </HBox>
                    <Region fx:id="spacer" HBox.hgrow="ALWAYS"/>
                    <VBox alignment="CENTER_RIGHT">
                        <Label text="Report ID: RPT-2024-0315-001" style="-fx-text-fill: white;"/>
                        <Label text="Generated: March 15, 2024" style="-fx-text-fill: white;"/>
                    </VBox>
                </HBox>
                
                <!-- Background color bar (dark blue) -->
                <Region style="-fx-background-color: #003366; -fx-pref-height: 50;"/>

                <!-- Applicant Info -->
                <VBox spacing="10" alignment="TOP_LEFT">
                    <Label text="Applicant Information" styleClass="section-title"/>
                    <GridPane hgap="20" vgap="10">
                        <columnConstraints>
                            <ColumnConstraints percentWidth="40"/>
                            <ColumnConstraints percentWidth="60"/>
                        </columnConstraints>

                        <Label text="Full Name:" GridPane.rowIndex="0" GridPane.columnIndex="0"/>
                        <Label fx:id="fullNameLabel" text="Kamal Perera" GridPane.rowIndex="0" GridPane.columnIndex="1"/>

                        <Label text="NIC Number:" GridPane.rowIndex="1" GridPane.columnIndex="0"/>
                        <Label fx:id="nicLabel" text="123456789V" GridPane.rowIndex="1" GridPane.columnIndex="1"/>

                        <Label text="Application Date:" GridPane.rowIndex="2" GridPane.columnIndex="0"/>
                        <Label fx:id="applicationDateLabel" text="March 15, 2024" GridPane.rowIndex="2" GridPane.columnIndex="1"/>

                        <Label text="Loan Amount:" GridPane.rowIndex="3" GridPane.columnIndex="0"/>
                        <Label fx:id="loanAmountLabel" text="LKR 2,500,000" GridPane.rowIndex="3" GridPane.columnIndex="1"/>

                        <Label text="Loan Purpose:" GridPane.rowIndex="4" GridPane.columnIndex="0"/>
                        <Label text="General Loan" GridPane.rowIndex="4" GridPane.columnIndex="1"/>
                    </GridPane>
                </VBox>

                <!-- Risk Assessment Result -->
                <VBox spacing="10" alignment="CENTER">
                    <Label fx:id="riskScoreLabel" text="78" style="-fx-font-size: 48px; -fx-font-weight: bold;"/>
                    <Label fx:id="riskProfileLabel" text="Good Risk Profile" style="-fx-text-fill: green; -fx-font-size: 16px;"/>
                </VBox>

                <!-- Loan Approved Section -->
                <VBox spacing="10" style="-fx-background-color: #e1fbe5; -fx-border-color: green; -fx-padding: 20;">
                    <Label text="LOAN APPROVED" style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: green;"/>
                    <Label text="Application meets all risk assessment criteria"/>

                    <GridPane hgap="20" vgap="10">
                        <columnConstraints>
                            <ColumnConstraints percentWidth="40"/>
                            <ColumnConstraints percentWidth="60"/>
                        </columnConstraints>

                        <Label text="Approved Amount:" GridPane.rowIndex="0" GridPane.columnIndex="0"/>
                        <Label fx:id="approvedAmountLabel" text="LKR 2,500,000" GridPane.rowIndex="0" GridPane.columnIndex="1"/>

                        <Label text="Interest Rate:" GridPane.rowIndex="1" GridPane.columnIndex="0"/>
                        <Label fx:id="interestRateLabel" text="8.5% per annum" GridPane.rowIndex="1" GridPane.columnIndex="1"/>

                        <Label text="Loan Term:" GridPane.rowIndex="2" GridPane.columnIndex="0"/>
                        <Label fx:id="loanTermLabel" text="15 years" GridPane.rowIndex="2" GridPane.columnIndex="1"/>

                        <Label text="Monthly Payment:" GridPane.rowIndex="3" GridPane.columnIndex="0"/>
                        <Label fx:id="monthlyPaymentLabel" text="LKR 24,650" GridPane.rowIndex="3" GridPane.columnIndex="1"/>
                    </GridPane>
                </VBox>

                <!-- Signature -->
                <HBox spacing="20" alignment="CENTER_LEFT">
                    <VBox spacing="5">
                        
                        <Label text="Date: March 15, 2024"/>
                    </VBox>

                    <Region HBox.hgrow="ALWAYS"/>

                    <VBox alignment="CENTER" style="-fx-border-color: green; -fx-border-width: 2; -fx-padding: 10;">
                        <Label text="APPROVED" style="-fx-text-fill: green; -fx-font-weight: bold;"/>
                        <Label text="LoanShield"/>
                     
                    </VBox>
                </HBox>

                <!-- Back Button and Save -->
                <HBox alignment="BOTTOM_LEFT" spacing="20">
                    <Button text="Back to Application" onAction="#handleBackButton" styleClass="submit-button"/>
                    <Button text="Save" onAction="#handleSave" styleClass="save-button-primary"/>
                </HBox>
               

            </VBox>





        </VBox>
        

    </content>
</ScrollPane>